<div class="cookie-bar" style="
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #f1f1f1;
  color: #000;
  padding: 1rem;
  font-family: sans-serif;
  font-size: 0.95rem;
  box-shadow: 0 -1px 4px rgba(0,0,0,0.1);
  z-index: 9999;
  text-align: center;
">
  <div lang="pl">
    Ta strona używa ciasteczek, aby zapewnić najlepszą jakość korzystania z naszego serwisu.
    <button id="accept-cookies-pl" style="margin-left: 1rem; padding: 0.4rem 1rem;">Akceptuję</button>
  </div>
  <div lang="de">
    Diese Website verwendet Cookies, um Ihnen das beste Nutzererlebnis zu bieten.
    <button id="accept-cookies-de" style="margin-left: 1rem; padding: 0.4rem 1rem;">Ich stimme zu</button>
  </div>
</div>

<script>
// POCZEKAJ aż element faktycznie będzie wczytany
function initCookieBar() {
  const bar = document.querySelector('.cookie-bar');
  if (!bar) return setTimeout(initCookieBar, 50); // próbuj ponownie co 50ms

  const acceptButtons = document.querySelectorAll('#accept-cookies-pl, #accept-cookies-de');

  if (localStorage.getItem('cookiesAccepted')) {
    bar.style.display = 'none';
    return;
  }

  acceptButtons.forEach(button => {
    button.addEventListener('click', function () {
      localStorage.setItem('cookiesAccepted', 'true');
      bar.style.display = 'none';
    });
  });

  const userLang = navigator.language || navigator.userLanguage;
  const langPl = document.querySelector('[lang="pl"]');
  const langDe = document.querySelector('[lang="de"]');

  if (userLang.startsWith('de')) {
    langPl.style.display = 'none';
    langDe.style.display = 'block';
  } else {
    langPl.style.display = 'block';
    langDe.style.display = 'none';
  }
}
initCookieBar();
</script>
